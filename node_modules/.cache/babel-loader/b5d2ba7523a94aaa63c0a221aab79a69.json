{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport PropTypes from \"prop-types\";\nimport { Component } from \"react\";\nimport { withSearch } from \"..\";\nimport { Sorting } from \"@elastic/react-search-ui-views\";\nimport { SortOption } from \"../types\";\n\nfunction findSortOption(sortOptions, sortString) {\n  var _sortString$split = sortString.split(\"|||\"),\n      _sortString$split2 = _slicedToArray(_sortString$split, 2),\n      value = _sortString$split2[0],\n      direction = _sortString$split2[1];\n\n  return sortOptions.find(function (option) {\n    return option.value === value && option.direction === direction;\n  });\n}\n\nfunction formatValue(sortField, sortDirection) {\n  return \"\".concat(sortField, \"|||\").concat(sortDirection);\n}\n\nfunction formatSelectOption(sortOption) {\n  return {\n    label: sortOption.name,\n    value: formatValue(sortOption.value, sortOption.direction)\n  };\n}\n\nexport var SortingContainer = /*#__PURE__*/function (_Component) {\n  _inherits(SortingContainer, _Component);\n\n  var _super = _createSuper(SortingContainer);\n\n  function SortingContainer() {\n    _classCallCheck(this, SortingContainer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(SortingContainer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          label = _this$props.label,\n          setSort = _this$props.setSort,\n          sortDirection = _this$props.sortDirection,\n          sortField = _this$props.sortField,\n          sortOptions = _this$props.sortOptions,\n          view = _this$props.view,\n          rest = _objectWithoutProperties(_this$props, [\"className\", \"label\", \"setSort\", \"sortDirection\", \"sortField\", \"sortOptions\", \"view\"]);\n\n      var View = view || Sorting;\n      return View(_objectSpread({\n        className: className,\n        label: label,\n        onChange: function onChange(o) {\n          var sortOption = findSortOption(sortOptions, o);\n          setSort(sortOption.value, sortOption.direction);\n        },\n        options: sortOptions.map(formatSelectOption),\n        value: formatValue(sortField, sortDirection)\n      }, rest));\n    }\n  }]);\n\n  return SortingContainer;\n}(Component);\n\n_defineProperty(SortingContainer, \"propTypes\", {\n  // Props\n  className: PropTypes.string,\n  label: PropTypes.string,\n  sortOptions: PropTypes.arrayOf(SortOption).isRequired,\n  view: PropTypes.func,\n  // State\n  sortDirection: PropTypes.oneOf([\"asc\", \"desc\", \"\"]).isRequired,\n  sortField: PropTypes.string.isRequired,\n  // Actions\n  setSort: PropTypes.func.isRequired\n});\n\nexport default withSearch(function (_ref) {\n  var sortDirection = _ref.sortDirection,\n      sortField = _ref.sortField,\n      setSort = _ref.setSort;\n  return {\n    sortDirection: sortDirection,\n    sortField: sortField,\n    setSort: setSort\n  };\n})(SortingContainer);","map":{"version":3,"sources":["../../src/containers/Sorting.js"],"names":["value","direction","sortString","option","label","sortOption","formatValue","SortingContainer","className","PropTypes","sortOptions","view","sortDirection","sortField","setSort","isRequired","rest","View","onChange","findSortOption","options"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\nimport { Component } from \"react\";\nimport { withSearch } from \"..\";\nimport { Sorting } from \"@elastic/react-search-ui-views\";\n\nimport { SortOption } from \"../types\";\n\nfunction findSortOption(sortOptions, sortString) {\n  const [value, direction] = sortString.split(\"|||\");\n  return sortOptions.find(\n    option => option.value === value && option.direction === direction\n  );\n}\n\nfunction formatValue(sortField, sortDirection) {\n  return `${sortField}|||${sortDirection}`;\n}\n\nfunction formatSelectOption(sortOption) {\n  return {\n    label: sortOption.name,\n    value: formatValue(sortOption.value, sortOption.direction)\n  };\n}\nexport class SortingContainer extends Component {\n  static propTypes = {\n    // Props\n    className: PropTypes.string,\n    label: PropTypes.string,\n    sortOptions: PropTypes.arrayOf(SortOption).isRequired,\n    view: PropTypes.func,\n    // State\n    sortDirection: PropTypes.oneOf([\"asc\", \"desc\", \"\"]).isRequired,\n    sortField: PropTypes.string.isRequired,\n    // Actions\n    setSort: PropTypes.func.isRequired\n  };\n\n  render() {\n    const {\n      className,\n      label,\n      setSort,\n      sortDirection,\n      sortField,\n      sortOptions,\n      view,\n      ...rest\n    } = this.props;\n\n    const View = view || Sorting;\n\n    return View({\n      className,\n      label,\n      onChange: o => {\n        const sortOption = findSortOption(sortOptions, o);\n        setSort(sortOption.value, sortOption.direction);\n      },\n      options: sortOptions.map(formatSelectOption),\n      value: formatValue(sortField, sortDirection),\n      ...rest\n    });\n  }\n}\n\nexport default withSearch(({ sortDirection, sortField, setSort }) => ({\n  sortDirection,\n  sortField,\n  setSort\n}))(SortingContainer);\n"]},"metadata":{},"sourceType":"module"}